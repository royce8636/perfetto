buffers {
  size_kb: 100024
  optimize_for: ONE_SHOT_READ
  fill_policy: RING_BUFFER
}

data_sources {
  config {
    name: "com.google.perfetto.ftrace"
    target_buffer: 0
    ftrace_config {
      total_buffer_size_kb: 1344 # 4 (page size) * 8 (# cpus) * 10
      drain_period_ms: 200
      event_names: "cpufreq_interactive_setspeed"
      event_names: "cpufreq_interactive_target"
      event_names: "cpufreq_interactive_already"
      event_names: "cpufreq_interactive_notyet"
      event_names: "cpufreq_interactive_boost"
      event_names: "cpufreq_interactive_unboost"
      event_names: "clock_disable"
      event_names: "clock_enable"
      event_names: "clock_set_rate"
      event_names: "cpu_frequency"
      event_names: "cpu_idle"
      event_names: "cpu_frequency_limits"
      event_names: "sched_switch"
      event_names: "sched_wakeup"
    }
  }
}

duration_ms: 10000
